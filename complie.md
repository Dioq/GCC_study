C和C++编译器是集成的，编译一般分为四个步骤：
预处理(preprocessing) ----------------- cpp/ gcc -E
编译(compilation) ------------------ cc1 / gcc -S
汇编(assembly) -------------------- as / gcc -c
连接(linking) --------------------- ld


一、预编译：i
1.#define 宏文本替换
2.#include 递归展开头文件
3.#if #endif #elif 删除预编译指令
4.删除注释
5.添加行号和文本标识
6.保留 #pragma 编译器处理

gcc -E xxx.c -o xxx.i

二、编译：s
1.词法分析
2.语法分析
3.语义分析
4.代码优化 生成汇编代码

gcc -S xxx.i -o xxx.s

三、汇编： o (object file 生成目标文件)
将汇编代码转化成二进制指令

gcc -c xxx.s -o xxx.o

注：每一个 .c 文件 只能生成一个 .o 文件，不存在多个 .c 生成 一个 .o 文件的情况

四、链接
生成.exe文件 也是ELF文件，有头和.data、.text段等
//UND 未定义区 //找不到
1.段合并：相同段合并<一个段映射一个页面>
合并符号表：同名查找，未找到则用本身查找的弱符号，找到则删除弱符号改用强符号
2.符号解析（处理UND）：未找到对应的符号进行报错 合并UND
3.分配地址和空间
4.符号的重定位 //test段 <虚假地址改真实，纠正虚假偏移>
链接代码：[ld -e main -o run main.o sum.o]
